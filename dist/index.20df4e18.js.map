{"mappings":"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","sources":["w.js"],"sourcesContent":["const userTab = document.querySelector(\"[data-userWeather]\");\r\nconst searchTab = document.querySelector(\"[data-searchWeather]\");\r\nconst userContainer = document.querySelector(\".weather-container\");\r\nconst grantAccessContainer = document.querySelector(\".grant-location-container\");\r\nconst searhForm = document.querySelector(\"[data-searchForm]\");\r\nconst loadingScreen = document.querySelector(\".loading-container\");\r\nconst userInfoContainer = document.querySelector(\".user-info-container\");\r\n\r\n//initially needed variables\r\n\r\n// for default tab\r\n\r\nlet currentTab = userTab;\r\n//my api key\r\n// const API_KEY = \"9fafdb7be04ec8334971c56825822918\";\r\n//love bhai key\r\nconst API_KEY = \"d1845658f92b31c64bd94f06f7188c9c\";\r\n\r\ncurrentTab.classList.add(\"current-tab\");\r\n\r\n//might possible coordinates are present in storage thats why initialy call this function\r\ngetfromSessionStorage();\r\n\r\n\r\n//tab switch function logic\r\nfunction switchTab(clickedTab) {\r\n    if (clickedTab != currentTab) {\r\n        currentTab.classList.remove(\"current-tab\");\r\n        currentTab = clickedTab;\r\n        currentTab.classList.add(\"current-tab\");\r\n\r\n        if(!searhForm.classList.contains(\"active\")) {\r\n            //search form conainer is invisible ? if yes then make it visible\r\n            userInfoContainer.classList.remove(\"active\");\r\n            grantAccessContainer.classList.remove(\"active\");\r\n            searhForm.classList.add(\"active\");\r\n        }\r\n        else {\r\n            //previously on search tab now visible 'your weather' tab\r\n            searhForm.classList.remove(\"active\");\r\n            userInfoContainer.classList.remove(\"active\");\r\n            //now in 'your weather' tab so wheather dispaly has to show for user wheather for that lets check local storage first\r\n            //for cordinates, if we haved saved them there\r\n            getfromSessionStorage();\r\n            //this function checks corinates in session storage\r\n        }\r\n    }\r\n};\r\n\r\nuserTab.addEventListener(\"click\", () => {\r\n    //pass clicked tab as input parameter\r\n    switchTab(userTab);\r\n});\r\n\r\nsearchTab.addEventListener(\"click\", () => {\r\n    //pass clicked tab as input parameter\r\n    switchTab(searchTab);\r\n});\r\n\r\n\r\n//checks if cordinates are already present in session storage\r\nfunction getfromSessionStorage() {\r\n    const localCoordinates = sessionStorage.getItem(\"user-coordinates\");\r\n    if(!localCoordinates) {\r\n        //if local coordinates not found\r\n        grantAccessContainer.classList.add(\"active\");\r\n    }\r\n    else {\r\n        const coordinates = JSON.parse(localCoordinates);\r\n        //fetch users weather\r\n        fetchUserWeatherInfo(coordinates);\r\n    }\r\n}\r\n\r\n//API CALLING FUNC\r\nasync function fetchUserWeatherInfo(coordinates) {\r\n    const {lat, lon} = coordinates;\r\n    //make grantcontainer invisible\r\n    grantAccessContainer.classList.remove(\"active\");\r\n    //make loader gif visible for showing that api call is ongoing to fetch weather details\r\n    loadingScreen.classList.add(\"active\");\r\n\r\n    //API CALL\r\n    try{\r\n        // const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_key}&units=metric`);\r\n        //my api link\r\n        // const response = await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${lat}&lon=${lon}&appid=${API_KEY}`);\r\n\r\n        //love bhai api link\r\n        const response = await fetch(\r\n            `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`\r\n          );\r\n        \r\n        const data = await response.json();\r\n\r\n        loadingScreen.classList.remove(\"active\");\r\n        userInfoContainer.classList.add(\"active\");\r\n        // this func put api data into 'user Information COntainer' UI\r\n        renderWeatherInfo(data);\r\n    }\r\n    catch (err){\r\n        // getting error here = check api\r\n        alert(\"coordinates invalid, try again\");\r\n        loadingScreen.classList.remove(\"active\");\r\n        grantAccessContainer.classList.add(\"active\");\r\n    }\r\n};\r\n\r\n\r\n// weatherInfo is parameter passed in this func for the json object recived from api call for weather data\r\nfunction renderWeatherInfo(weatherInfo){\r\n    //firstly we have to fetch elements in which we render the diffrent weather data\r\n\r\n    const cityName = document.querySelector(\"[data-cityName]\");\r\n    const countryIcon = document.querySelector(\"[data-countryIcon]\");\r\n    const desc = document.querySelector(\"[data-weatherDesc]\");\r\n    const weatherIcon = document.querySelector(\"[data-weatherIcon]\");\r\n    const temp = document.querySelector(\"[data-temp]\");\r\n    const windSpeed = document.querySelector(\"[data-windspeed]\");\r\n    const humidity = document.querySelector(\"[data-humidity]\");\r\n    const cloudiness = document.querySelector(\"[data-cloudiness]\");\r\n\r\n    // fetch values from weatherInfo object and put it in UI elements\r\n    cityName.innerText = weatherInfo?.name;\r\n    countryIcon.src = `https://flagcdn.com/144x108/${weatherInfo?.sys?.country.toLowerCase()}.png`;\r\n    desc.innerText = weatherInfo?.weather?.[0]?.description;\r\n    weatherIcon.src = `http://openweathermap.org/img/w/${weatherInfo?.weather?.[0]?.icon}.png`;\r\n    temp.innerText = weatherInfo?.main?.temp;\r\n    windSpeed.innerText = weatherInfo?.wind?.speed;\r\n    humidity.innerText = weatherInfo?.main?.humidity;\r\n    cloudiness.innerText = weatherInfo?.clouds?.all;\r\n};\r\n\r\n//function to get geo location after getting longitude and latitude coordinates\r\nfunction getLocation() {\r\n    if(navigator.geolocation) {\r\n        //this is geo location api/syntax for finding coordinates\r\n        navigator.geolocation.getCurrentPosition(showPosition);\r\n    }\r\n    else{\r\n        alert(\"Your Browser doesnot have Geo Location support\");\r\n    }\r\n};\r\n\r\n//finding longitude and latitude coordinates\r\nfunction showPosition(position) {\r\n    //store value of coordinates in object\r\n    const userCoordinates = {\r\n        //syntax to find longi.. lati... on w3school\r\n        lat: position.coords.latitude,\r\n        lon: position.coords.longitude,\r\n    };\r\n\r\n    sessionStorage.setItem(\"user-coordinates\", JSON.stringify(userCoordinates));\r\n    fetchUserWeatherInfo(userCoordinates);\r\n};\r\n\r\n\r\n//grant location button on-click listner\r\nconst grantAccessButton = document.querySelector(\"[data-grantAccess]\");\r\ngrantAccessButton.addEventListener(\"click\", getLocation);\r\n\r\n// search button all functning start from here\r\n\r\nconst searchInput = document.querySelector(\"[data-seachInput]\");\r\n\r\nsearhForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    let cityName = searchInput.value;\r\n    if(cityName === \"\") {\r\n        return;\r\n    }\r\n    else {\r\n        fetchSearchWeatherInfo(cityName);\r\n    }\r\n});\r\n\r\n//api call for search weather tab\r\nasync function fetchSearchWeatherInfo(city) {\r\n    loadingScreen.classList.add(\"active\");\r\n    userInfoContainer.classList.remove(\"active\");\r\n    grantAccessContainer.classList.remove(\"active\");\r\n\r\n    try{\r\n        // const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_key}&units=metric`);\r\n        //my api link\r\n        // const response = await fetch(`https://api.openweathermap.org/data/3.0/onecall?q=${city}&appid=${API_KEY}`);\r\n\r\n        //love bhai api link\r\n        const response = await fetch(\r\n            `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`\r\n          );\r\n\r\n        const data = await response.json();\r\n\r\n        loadingScreen.classList.remove(\"active\");\r\n        userInfoContainer.classList.add(\"active\");\r\n\r\n        renderWeatherInfo(data);\r\n    }\r\n    catch (err){\r\n        // getting error here , check city api\r\n        alert (\"city api not working\");\r\n    }\r\n}"],"names":[],"version":3,"file":"index.20df4e18.js.map","sourceRoot":"/__parcel_source_root/"}